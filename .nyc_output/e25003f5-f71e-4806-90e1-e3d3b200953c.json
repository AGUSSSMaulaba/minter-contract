{"/Users/shaharyakir/Documents/dev/jetton-deployer/jetton-deployer-lib/lib/contract-deployer.ts":{"path":"/Users/shaharyakir/Documents/dev/jetton-deployer/jetton-deployer-lib/lib/contract-deployer.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":4,"column":3}},"1":{"start":{"line":5,"column":11},"end":{"line":5,"column":25}},"2":{"start":{"line":7,"column":4},"end":{"line":13,"column":5}},"3":{"start":{"line":8,"column":19},"end":{"line":8,"column":32}},"4":{"start":{"line":9,"column":20},"end":{"line":9,"column":30}},"5":{"start":{"line":11,"column":8},"end":{"line":11,"column":22}},"6":{"start":{"line":12,"column":8},"end":{"line":12,"column":15}},"7":{"start":{"line":14,"column":4},"end":{"line":18,"column":5}},"8":{"start":{"line":15,"column":8},"end":{"line":15,"column":23}},"9":{"start":{"line":17,"column":8},"end":{"line":17,"column":51}},"10":{"start":{"line":21,"column":4},"end":{"line":33,"column":6}},"11":{"start":{"line":22,"column":19},"end":{"line":22,"column":23}},"12":{"start":{"line":22,"column":32},"end":{"line":22,"column":41}},"13":{"start":{"line":23,"column":8},"end":{"line":32,"column":11}},"14":{"start":{"line":24,"column":22},"end":{"line":24,"column":42}},"15":{"start":{"line":26,"column":16},"end":{"line":26,"column":87}},"16":{"start":{"line":29,"column":16},"end":{"line":29,"column":86}},"17":{"start":{"line":31,"column":12},"end":{"line":31,"column":29}},"18":{"start":{"line":35,"column":23},"end":{"line":61,"column":1}},"19":{"start":{"line":37,"column":8},"end":{"line":41,"column":11}},"20":{"start":{"line":44,"column":20},"end":{"line":44,"column":24}},"21":{"start":{"line":45,"column":8},"end":{"line":59,"column":13}},"22":{"start":{"line":46,"column":37},"end":{"line":46,"column":69}},"23":{"start":{"line":47,"column":12},"end":{"line":57,"column":13}},"24":{"start":{"line":48,"column":16},"end":{"line":56,"column":19}},"25":{"start":{"line":58,"column":12},"end":{"line":58,"column":36}},"26":{"start":{"line":62,"column":0},"end":{"line":62,"column":44}}},"fnMap":{"0":{"name":"asyncGeneratorStep","decl":{"start":{"line":6,"column":9},"end":{"line":6,"column":27}},"loc":{"start":{"line":6,"column":75},"end":{"line":19,"column":1}},"line":6},"1":{"name":"_asyncToGenerator","decl":{"start":{"line":20,"column":9},"end":{"line":20,"column":26}},"loc":{"start":{"line":20,"column":31},"end":{"line":34,"column":1}},"line":20},"2":{"name":"(anonymous_2)","decl":{"start":{"line":21,"column":11},"end":{"line":21,"column":12}},"loc":{"start":{"line":21,"column":22},"end":{"line":33,"column":5}},"line":21},"3":{"name":"(anonymous_3)","decl":{"start":{"line":23,"column":27},"end":{"line":23,"column":28}},"loc":{"start":{"line":23,"column":53},"end":{"line":32,"column":9}},"line":23},"4":{"name":"_next","decl":{"start":{"line":25,"column":21},"end":{"line":25,"column":26}},"loc":{"start":{"line":25,"column":34},"end":{"line":27,"column":13}},"line":25},"5":{"name":"_throw","decl":{"start":{"line":28,"column":21},"end":{"line":28,"column":27}},"loc":{"start":{"line":28,"column":33},"end":{"line":30,"column":13}},"line":28},"6":{"name":"(anonymous_6)","decl":{"start":{"line":36,"column":4},"end":{"line":36,"column":5}},"loc":{"start":{"line":36,"column":31},"end":{"line":42,"column":5}},"line":36},"7":{"name":"(anonymous_7)","decl":{"start":{"line":43,"column":4},"end":{"line":43,"column":5}},"loc":{"start":{"line":43,"column":46},"end":{"line":60,"column":5}},"line":43},"8":{"name":"(anonymous_8)","decl":{"start":{"line":45,"column":33},"end":{"line":45,"column":34}},"loc":{"start":{"line":45,"column":45},"end":{"line":59,"column":9}},"line":45}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":4},"end":{"line":18,"column":5}},"type":"if","locations":[{"start":{"line":14,"column":4},"end":{"line":18,"column":5}},{"start":{"line":14,"column":4},"end":{"line":18,"column":5}}],"line":14},"1":{"loc":{"start":{"line":47,"column":12},"end":{"line":57,"column":13}},"type":"if","locations":[{"start":{"line":47,"column":12},"end":{"line":57,"column":13}},{"start":{"line":47,"column":12},"end":{"line":57,"column":13}}],"line":47}},"s":{"0":1,"1":1,"2":2,"3":2,"4":2,"5":0,"6":0,"7":2,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":2,"16":0,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1},"f":{"0":2,"1":1,"2":1,"3":1,"4":2,"5":0,"6":1,"7":1,"8":1},"b":{"0":[1,1],"1":[1,0]},"inputSourceMap":{"version":3,"sources":["/Users/shaharyakir/Documents/dev/jetton-deployer/jetton-deployer-lib/lib/contract-deployer.ts"],"sourcesContent":["import { TransactionSender } from \"./transaction-sender\";\nimport BN from \"bn.js\";\nimport { Address, Cell, contractAddress, StateInit } from \"ton\";\n\ninterface ContractDeployDetails {\n  deployer: Address;\n  value: BN;\n  code: Cell;\n  data: Cell;\n  message?: Cell;\n  dryRun?: boolean;\n}\n\nexport class ContractDeployer {\n  addressForContract(params: ContractDeployDetails) {\n    return contractAddress({ workchain: 0, initialData: params.data, initialCode: params.code });\n  }\n\n  async deployContract(params: ContractDeployDetails, transactionSender: TransactionSender): Promise<Address> {\n    const _contractAddress = this.addressForContract(params);\n\n    if (!params.dryRun) {\n      await transactionSender.sendTransaction({\n        to: _contractAddress,\n        value: params.value,\n        stateInit: new StateInit({ data: params.data, code: params.code }),\n        message: params.message,\n      });\n    }\n\n    return _contractAddress;\n  }\n}\n"],"names":["ContractDeployer","addressForContract","params","contractAddress","workchain","initialData","data","initialCode","code","deployContract","transactionSender","_contractAddress","dryRun","sendTransaction","to","value","stateInit","StateInit","message"],"mappings":"AAAA;;;;AAE0D,IAAA,IAAK,WAAL,KAAK,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAWxD,IAAA,AAAMA,gBAAgB,GAAtB,MAAMA,gBAAgB;IAC3BC,kBAAkB,CAACC,MAA6B,EAAE;QAChD,OAAOC,CAAAA,GAAAA,IAAe,AAAsE,CAAA,gBAAtE,CAAC;YAAEC,SAAS,EAAE,CAAC;YAAEC,WAAW,EAAEH,MAAM,CAACI,IAAI;YAAEC,WAAW,EAAEL,MAAM,CAACM,IAAI;SAAE,CAAC,CAAC;KAC9F;IAED,AAAMC,cAAc,CAACP,MAA6B,EAAEQ,iBAAoC;;eAAxF,kBAAA,YAA4G;YAC1G,MAAMC,gBAAgB,GAAG,MAAKV,kBAAkB,CAACC,MAAM,CAAC,AAAC;YAEzD,IAAI,CAACA,MAAM,CAACU,MAAM,EAAE;gBAClB,MAAMF,iBAAiB,CAACG,eAAe,CAAC;oBACtCC,EAAE,EAAEH,gBAAgB;oBACpBI,KAAK,EAAEb,MAAM,CAACa,KAAK;oBACnBC,SAAS,EAAE,IAAIC,IAAS,UAAA,CAAC;wBAAEX,IAAI,EAAEJ,MAAM,CAACI,IAAI;wBAAEE,IAAI,EAAEN,MAAM,CAACM,IAAI;qBAAE,CAAC;oBAClEU,OAAO,EAAEhB,MAAM,CAACgB,OAAO;iBACxB,CAAC,CAAC;aACJ;YAED,OAAOP,gBAAgB,CAAC;SACzB,CAAA;KAAA;CACF;QAnBYX,gBAAgB,GAAhBA,gBAAgB","file":"/Users/shaharyakir/Documents/dev/jetton-deployer/jetton-deployer-lib/lib/contract-deployer.ts"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"9d1103be882f6caa10b29431eb3af1a37c2e444e","contentHash":"05bdbfab8fe579137428d267ab44601a8a87126528cae71ddd8553b0d4de438a"},"/Users/shaharyakir/Documents/dev/jetton-deployer/jetton-deployer-lib/lib/deploy-controller.ts":{"path":"/Users/shaharyakir/Documents/dev/jetton-deployer/jetton-deployer-lib/lib/deploy-controller.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":4,"column":3}},"1":{"start":{"line":5,"column":0},"end":{"line":5,"column":63}},"2":{"start":{"line":6,"column":11},"end":{"line":6,"column":25}},"3":{"start":{"line":7,"column":13},"end":{"line":7,"column":53}},"4":{"start":{"line":8,"column":28},"end":{"line":8,"column":85}},"5":{"start":{"line":9,"column":13},"end":{"line":9,"column":31}},"6":{"start":{"line":10,"column":20},"end":{"line":10,"column":57}},"7":{"start":{"line":12,"column":4},"end":{"line":18,"column":5}},"8":{"start":{"line":13,"column":19},"end":{"line":13,"column":32}},"9":{"start":{"line":14,"column":20},"end":{"line":14,"column":30}},"10":{"start":{"line":16,"column":8},"end":{"line":16,"column":22}},"11":{"start":{"line":17,"column":8},"end":{"line":17,"column":15}},"12":{"start":{"line":19,"column":4},"end":{"line":23,"column":5}},"13":{"start":{"line":20,"column":8},"end":{"line":20,"column":23}},"14":{"start":{"line":22,"column":8},"end":{"line":22,"column":51}},"15":{"start":{"line":26,"column":4},"end":{"line":38,"column":6}},"16":{"start":{"line":27,"column":19},"end":{"line":27,"column":23}},"17":{"start":{"line":27,"column":32},"end":{"line":27,"column":41}},"18":{"start":{"line":28,"column":8},"end":{"line":37,"column":11}},"19":{"start":{"line":29,"column":22},"end":{"line":29,"column":42}},"20":{"start":{"line":31,"column":16},"end":{"line":31,"column":87}},"21":{"start":{"line":34,"column":16},"end":{"line":34,"column":86}},"22":{"start":{"line":36,"column":12},"end":{"line":36,"column":29}},"23":{"start":{"line":41,"column":4},"end":{"line":43,"column":5}},"24":{"start":{"line":42,"column":8},"end":{"line":42,"column":94}},"25":{"start":{"line":46,"column":4},"end":{"line":48,"column":5}},"26":{"start":{"line":47,"column":8},"end":{"line":47,"column":45}},"27":{"start":{"line":49,"column":4},"end":{"line":49,"column":28}},"28":{"start":{"line":52,"column":4},"end":{"line":59,"column":5}},"29":{"start":{"line":53,"column":8},"end":{"line":53,"column":45}},"30":{"start":{"line":55,"column":8},"end":{"line":57,"column":9}},"31":{"start":{"line":56,"column":12},"end":{"line":56,"column":76}},"32":{"start":{"line":58,"column":8},"end":{"line":58,"column":33}},"33":{"start":{"line":62,"column":4},"end":{"line":64,"column":5}},"34":{"start":{"line":63,"column":8},"end":{"line":63,"column":89}},"35":{"start":{"line":65,"column":4},"end":{"line":65,"column":36}},"36":{"start":{"line":68,"column":21},"end":{"line":68,"column":78}},"37":{"start":{"line":69,"column":4},"end":{"line":69,"column":58}},"38":{"start":{"line":72,"column":4},"end":{"line":72,"column":48}},"39":{"start":{"line":73,"column":4},"end":{"line":73,"column":31}},"40":{"start":{"line":76,"column":21},"end":{"line":76,"column":78}},"41":{"start":{"line":77,"column":4},"end":{"line":77,"column":58}},"42":{"start":{"line":78,"column":4},"end":{"line":78,"column":17}},"43":{"start":{"line":81,"column":4},"end":{"line":90,"column":5}},"44":{"start":{"line":82,"column":8},"end":{"line":87,"column":11}},"45":{"start":{"line":89,"column":8},"end":{"line":89,"column":25}},"46":{"start":{"line":91,"column":4},"end":{"line":91,"column":15}},"47":{"start":{"line":94,"column":4},"end":{"line":96,"column":6}},"48":{"start":{"line":99,"column":4},"end":{"line":110,"column":5}},"49":{"start":{"line":99,"column":16},"end":{"line":99,"column":17}},"50":{"start":{"line":100,"column":21},"end":{"line":100,"column":61}},"51":{"start":{"line":101,"column":22},"end":{"line":101,"column":41}},"52":{"start":{"line":102,"column":8},"end":{"line":106,"column":9}},"53":{"start":{"line":103,"column":12},"end":{"line":105,"column":16}},"54":{"start":{"line":104,"column":16},"end":{"line":104,"column":79}},"55":{"start":{"line":107,"column":8},"end":{"line":109,"column":11}},"56":{"start":{"line":108,"column":12},"end":{"line":108,"column":54}},"57":{"start":{"line":111,"column":4},"end":{"line":111,"column":18}},"58":{"start":{"line":113,"column":0},"end":{"line":115,"column":3}},"59":{"start":{"line":116,"column":26},"end":{"line":116,"column":48}},"60":{"start":{"line":117,"column":0},"end":{"line":117,"column":46}},"61":{"start":{"line":119,"column":0},"end":{"line":119,"column":46}},"62":{"start":{"line":120,"column":0},"end":{"line":130,"column":78}},"63":{"start":{"line":121,"column":4},"end":{"line":121,"column":76}},"64":{"start":{"line":122,"column":4},"end":{"line":122,"column":80}},"65":{"start":{"line":123,"column":4},"end":{"line":123,"column":78}},"66":{"start":{"line":124,"column":4},"end":{"line":124,"column":84}},"67":{"start":{"line":125,"column":4},"end":{"line":125,"column":98}},"68":{"start":{"line":126,"column":4},"end":{"line":126,"column":100}},"69":{"start":{"line":127,"column":4},"end":{"line":127,"column":76}},"70":{"start":{"line":128,"column":4},"end":{"line":128,"column":86}},"71":{"start":{"line":129,"column":4},"end":{"line":129,"column":62}},"72":{"start":{"line":131,"column":28},"end":{"line":131,"column":41}},"73":{"start":{"line":132,"column":29},"end":{"line":228,"column":1}},"74":{"start":{"line":134,"column":20},"end":{"line":134,"column":24}},"75":{"start":{"line":135,"column":8},"end":{"line":188,"column":13}},"76":{"start":{"line":137,"column":12},"end":{"line":137,"column":126}},"77":{"start":{"line":138,"column":28},"end":{"line":138,"column":96}},"78":{"start":{"line":139,"column":12},"end":{"line":139,"column":104}},"79":{"start":{"line":139,"column":47},"end":{"line":139,"column":104}},"80":{"start":{"line":140,"column":34},"end":{"line":140,"column":87}},"81":{"start":{"line":141,"column":33},"end":{"line":146,"column":15}},"82":{"start":{"line":147,"column":33},"end":{"line":153,"column":13}},"83":{"start":{"line":154,"column":33},"end":{"line":154,"column":82}},"84":{"start":{"line":155,"column":12},"end":{"line":163,"column":13}},"85":{"start":{"line":157,"column":16},"end":{"line":157,"column":136}},"86":{"start":{"line":160,"column":16},"end":{"line":160,"column":87}},"87":{"start":{"line":161,"column":16},"end":{"line":161,"column":142}},"88":{"start":{"line":162,"column":16},"end":{"line":162,"column":109}},"89":{"start":{"line":164,"column":24},"end":{"line":164,"column":114}},"90":{"start":{"line":166,"column":41},"end":{"line":166,"column":112}},"91":{"start":{"line":167,"column":12},"end":{"line":167,"column":130}},"92":{"start":{"line":167,"column":81},"end":{"line":167,"column":130}},"93":{"start":{"line":172,"column":25},"end":{"line":179,"column":14}},"94":{"start":{"line":181,"column":37},"end":{"line":181,"column":109}},"95":{"start":{"line":182,"column":12},"end":{"line":182,"column":138}},"96":{"start":{"line":183,"column":12},"end":{"line":183,"column":109}},"97":{"start":{"line":184,"column":12},"end":{"line":184,"column":165}},"98":{"start":{"line":185,"column":25},"end":{"line":185,"column":119}},"99":{"start":{"line":186,"column":12},"end":{"line":186,"column":117}},"100":{"start":{"line":186,"column":88},"end":{"line":186,"column":117}},"101":{"start":{"line":187,"column":12},"end":{"line":187,"column":120}},"102":{"start":{"line":191,"column":20},"end":{"line":191,"column":24}},"103":{"start":{"line":192,"column":8},"end":{"line":219,"column":13}},"104":{"start":{"line":193,"column":34},"end":{"line":193,"column":124}},"105":{"start":{"line":194,"column":32},"end":{"line":194,"column":99}},"106":{"start":{"line":195,"column":12},"end":{"line":195,"column":35}},"107":{"start":{"line":196,"column":28},"end":{"line":196,"column":78}},"108":{"start":{"line":197,"column":29},"end":{"line":197,"column":69}},"109":{"start":{"line":198,"column":37},"end":{"line":205,"column":14}},"110":{"start":{"line":207,"column":37},"end":{"line":207,"column":121}},"111":{"start":{"line":208,"column":35},"end":{"line":208,"column":129}},"112":{"start":{"line":209,"column":12},"end":{"line":218,"column":14}},"113":{"start":{"line":222,"column":8},"end":{"line":225,"column":11}},"114":{"start":{"line":226,"column":8},"end":{"line":226,"column":53}},"115":{"start":{"line":229,"column":0},"end":{"line":229,"column":56}}},"fnMap":{"0":{"name":"asyncGeneratorStep","decl":{"start":{"line":11,"column":9},"end":{"line":11,"column":27}},"loc":{"start":{"line":11,"column":75},"end":{"line":24,"column":1}},"line":11},"1":{"name":"_asyncToGenerator","decl":{"start":{"line":25,"column":9},"end":{"line":25,"column":26}},"loc":{"start":{"line":25,"column":31},"end":{"line":39,"column":1}},"line":25},"2":{"name":"(anonymous_2)","decl":{"start":{"line":26,"column":11},"end":{"line":26,"column":12}},"loc":{"start":{"line":26,"column":22},"end":{"line":38,"column":5}},"line":26},"3":{"name":"(anonymous_3)","decl":{"start":{"line":28,"column":27},"end":{"line":28,"column":28}},"loc":{"start":{"line":28,"column":53},"end":{"line":37,"column":9}},"line":28},"4":{"name":"_next","decl":{"start":{"line":30,"column":21},"end":{"line":30,"column":26}},"loc":{"start":{"line":30,"column":34},"end":{"line":32,"column":13}},"line":30},"5":{"name":"_throw","decl":{"start":{"line":33,"column":21},"end":{"line":33,"column":27}},"loc":{"start":{"line":33,"column":33},"end":{"line":35,"column":13}},"line":33},"6":{"name":"_checkPrivateRedeclaration","decl":{"start":{"line":40,"column":9},"end":{"line":40,"column":35}},"loc":{"start":{"line":40,"column":60},"end":{"line":44,"column":1}},"line":40},"7":{"name":"_classApplyDescriptorGet","decl":{"start":{"line":45,"column":9},"end":{"line":45,"column":33}},"loc":{"start":{"line":45,"column":56},"end":{"line":50,"column":1}},"line":45},"8":{"name":"_classApplyDescriptorSet","decl":{"start":{"line":51,"column":9},"end":{"line":51,"column":33}},"loc":{"start":{"line":51,"column":63},"end":{"line":60,"column":1}},"line":51},"9":{"name":"_classExtractFieldDescriptor","decl":{"start":{"line":61,"column":9},"end":{"line":61,"column":37}},"loc":{"start":{"line":61,"column":68},"end":{"line":66,"column":1}},"line":61},"10":{"name":"_classPrivateFieldGet","decl":{"start":{"line":67,"column":9},"end":{"line":67,"column":30}},"loc":{"start":{"line":67,"column":53},"end":{"line":70,"column":1}},"line":67},"11":{"name":"_classPrivateFieldInit","decl":{"start":{"line":71,"column":9},"end":{"line":71,"column":31}},"loc":{"start":{"line":71,"column":56},"end":{"line":74,"column":1}},"line":71},"12":{"name":"_classPrivateFieldSet","decl":{"start":{"line":75,"column":9},"end":{"line":75,"column":30}},"loc":{"start":{"line":75,"column":60},"end":{"line":79,"column":1}},"line":75},"13":{"name":"_defineProperty","decl":{"start":{"line":80,"column":9},"end":{"line":80,"column":24}},"loc":{"start":{"line":80,"column":42},"end":{"line":92,"column":1}},"line":80},"14":{"name":"_interopRequireDefault","decl":{"start":{"line":93,"column":9},"end":{"line":93,"column":31}},"loc":{"start":{"line":93,"column":37},"end":{"line":97,"column":1}},"line":93},"15":{"name":"_objectSpread","decl":{"start":{"line":98,"column":9},"end":{"line":98,"column":22}},"loc":{"start":{"line":98,"column":31},"end":{"line":112,"column":1}},"line":98},"16":{"name":"(anonymous_16)","decl":{"start":{"line":103,"column":81},"end":{"line":103,"column":82}},"loc":{"start":{"line":103,"column":95},"end":{"line":105,"column":13}},"line":103},"17":{"name":"(anonymous_17)","decl":{"start":{"line":107,"column":24},"end":{"line":107,"column":25}},"loc":{"start":{"line":107,"column":38},"end":{"line":109,"column":9}},"line":107},"18":{"name":"(anonymous_18)","decl":{"start":{"line":120,"column":1},"end":{"line":120,"column":2}},"loc":{"start":{"line":120,"column":29},"end":{"line":130,"column":1}},"line":120},"19":{"name":"(anonymous_19)","decl":{"start":{"line":133,"column":4},"end":{"line":133,"column":5}},"loc":{"start":{"line":133,"column":76},"end":{"line":189,"column":5}},"line":133},"20":{"name":"(anonymous_20)","decl":{"start":{"line":135,"column":33},"end":{"line":135,"column":34}},"loc":{"start":{"line":135,"column":45},"end":{"line":188,"column":9}},"line":135},"21":{"name":"(anonymous_21)","decl":{"start":{"line":190,"column":4},"end":{"line":190,"column":5}},"loc":{"start":{"line":190,"column":42},"end":{"line":220,"column":5}},"line":190},"22":{"name":"(anonymous_22)","decl":{"start":{"line":192,"column":33},"end":{"line":192,"column":34}},"loc":{"start":{"line":192,"column":45},"end":{"line":219,"column":9}},"line":192},"23":{"name":"(anonymous_23)","decl":{"start":{"line":221,"column":4},"end":{"line":221,"column":5}},"loc":{"start":{"line":221,"column":23},"end":{"line":227,"column":5}},"line":221}},"branchMap":{"0":{"loc":{"start":{"line":19,"column":4},"end":{"line":23,"column":5}},"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":23,"column":5}},{"start":{"line":19,"column":4},"end":{"line":23,"column":5}}],"line":19},"1":{"loc":{"start":{"line":41,"column":4},"end":{"line":43,"column":5}},"type":"if","locations":[{"start":{"line":41,"column":4},"end":{"line":43,"column":5}},{"start":{"line":41,"column":4},"end":{"line":43,"column":5}}],"line":41},"2":{"loc":{"start":{"line":46,"column":4},"end":{"line":48,"column":5}},"type":"if","locations":[{"start":{"line":46,"column":4},"end":{"line":48,"column":5}},{"start":{"line":46,"column":4},"end":{"line":48,"column":5}}],"line":46},"3":{"loc":{"start":{"line":52,"column":4},"end":{"line":59,"column":5}},"type":"if","locations":[{"start":{"line":52,"column":4},"end":{"line":59,"column":5}},{"start":{"line":52,"column":4},"end":{"line":59,"column":5}}],"line":52},"4":{"loc":{"start":{"line":55,"column":8},"end":{"line":57,"column":9}},"type":"if","locations":[{"start":{"line":55,"column":8},"end":{"line":57,"column":9}},{"start":{"line":55,"column":8},"end":{"line":57,"column":9}}],"line":55},"5":{"loc":{"start":{"line":62,"column":4},"end":{"line":64,"column":5}},"type":"if","locations":[{"start":{"line":62,"column":4},"end":{"line":64,"column":5}},{"start":{"line":62,"column":4},"end":{"line":64,"column":5}}],"line":62},"6":{"loc":{"start":{"line":81,"column":4},"end":{"line":90,"column":5}},"type":"if","locations":[{"start":{"line":81,"column":4},"end":{"line":90,"column":5}},{"start":{"line":81,"column":4},"end":{"line":90,"column":5}}],"line":81},"7":{"loc":{"start":{"line":94,"column":11},"end":{"line":96,"column":5}},"type":"cond-expr","locations":[{"start":{"line":94,"column":35},"end":{"line":94,"column":38}},{"start":{"line":94,"column":41},"end":{"line":96,"column":5}}],"line":94},"8":{"loc":{"start":{"line":94,"column":11},"end":{"line":94,"column":32}},"type":"binary-expr","locations":[{"start":{"line":94,"column":11},"end":{"line":94,"column":14}},{"start":{"line":94,"column":18},"end":{"line":94,"column":32}}],"line":94},"9":{"loc":{"start":{"line":100,"column":21},"end":{"line":100,"column":61}},"type":"cond-expr","locations":[{"start":{"line":100,"column":44},"end":{"line":100,"column":56}},{"start":{"line":100,"column":59},"end":{"line":100,"column":61}}],"line":100},"10":{"loc":{"start":{"line":102,"column":8},"end":{"line":106,"column":9}},"type":"if","locations":[{"start":{"line":102,"column":8},"end":{"line":106,"column":9}},{"start":{"line":102,"column":8},"end":{"line":106,"column":9}}],"line":102},"11":{"loc":{"start":{"line":130,"column":3},"end":{"line":130,"column":76}},"type":"binary-expr","locations":[{"start":{"line":130,"column":3},"end":{"line":130,"column":20}},{"start":{"line":130,"column":25},"end":{"line":130,"column":75}}],"line":130},"12":{"loc":{"start":{"line":137,"column":12},"end":{"line":137,"column":125}},"type":"cond-expr","locations":[{"start":{"line":137,"column":67},"end":{"line":137,"column":73}},{"start":{"line":137,"column":76},"end":{"line":137,"column":125}}],"line":137},"13":{"loc":{"start":{"line":137,"column":12},"end":{"line":137,"column":64}},"type":"binary-expr","locations":[{"start":{"line":137,"column":12},"end":{"line":137,"column":46}},{"start":{"line":137,"column":50},"end":{"line":137,"column":64}}],"line":137},"14":{"loc":{"start":{"line":139,"column":12},"end":{"line":139,"column":104}},"type":"if","locations":[{"start":{"line":139,"column":12},"end":{"line":139,"column":104}},{"start":{"line":139,"column":12},"end":{"line":139,"column":104}}],"line":139},"15":{"loc":{"start":{"line":155,"column":12},"end":{"line":163,"column":13}},"type":"if","locations":[{"start":{"line":155,"column":12},"end":{"line":163,"column":13}},{"start":{"line":155,"column":12},"end":{"line":163,"column":13}}],"line":155},"16":{"loc":{"start":{"line":157,"column":16},"end":{"line":157,"column":135}},"type":"cond-expr","locations":[{"start":{"line":157,"column":73},"end":{"line":157,"column":79}},{"start":{"line":157,"column":82},"end":{"line":157,"column":135}}],"line":157},"17":{"loc":{"start":{"line":157,"column":16},"end":{"line":157,"column":70}},"type":"binary-expr","locations":[{"start":{"line":157,"column":16},"end":{"line":157,"column":51}},{"start":{"line":157,"column":55},"end":{"line":157,"column":70}}],"line":157},"18":{"loc":{"start":{"line":161,"column":16},"end":{"line":161,"column":141}},"type":"cond-expr","locations":[{"start":{"line":161,"column":73},"end":{"line":161,"column":79}},{"start":{"line":161,"column":82},"end":{"line":161,"column":141}}],"line":161},"19":{"loc":{"start":{"line":161,"column":16},"end":{"line":161,"column":70}},"type":"binary-expr","locations":[{"start":{"line":161,"column":16},"end":{"line":161,"column":51}},{"start":{"line":161,"column":55},"end":{"line":161,"column":70}}],"line":161},"20":{"loc":{"start":{"line":167,"column":12},"end":{"line":167,"column":130}},"type":"if","locations":[{"start":{"line":167,"column":12},"end":{"line":167,"column":130}},{"start":{"line":167,"column":12},"end":{"line":167,"column":130}}],"line":167},"21":{"loc":{"start":{"line":182,"column":12},"end":{"line":182,"column":137}},"type":"cond-expr","locations":[{"start":{"line":182,"column":69},"end":{"line":182,"column":75}},{"start":{"line":182,"column":78},"end":{"line":182,"column":137}}],"line":182},"22":{"loc":{"start":{"line":182,"column":12},"end":{"line":182,"column":66}},"type":"binary-expr","locations":[{"start":{"line":182,"column":12},"end":{"line":182,"column":47}},{"start":{"line":182,"column":51},"end":{"line":182,"column":66}}],"line":182},"23":{"loc":{"start":{"line":184,"column":12},"end":{"line":184,"column":164}},"type":"cond-expr","locations":[{"start":{"line":184,"column":69},"end":{"line":184,"column":75}},{"start":{"line":184,"column":78},"end":{"line":184,"column":164}}],"line":184},"24":{"loc":{"start":{"line":184,"column":12},"end":{"line":184,"column":66}},"type":"binary-expr","locations":[{"start":{"line":184,"column":12},"end":{"line":184,"column":47}},{"start":{"line":184,"column":51},"end":{"line":184,"column":66}}],"line":184},"25":{"loc":{"start":{"line":186,"column":12},"end":{"line":186,"column":117}},"type":"if","locations":[{"start":{"line":186,"column":12},"end":{"line":186,"column":117}},{"start":{"line":186,"column":12},"end":{"line":186,"column":117}}],"line":186},"26":{"loc":{"start":{"line":187,"column":12},"end":{"line":187,"column":119}},"type":"cond-expr","locations":[{"start":{"line":187,"column":69},"end":{"line":187,"column":75}},{"start":{"line":187,"column":78},"end":{"line":187,"column":119}}],"line":187},"27":{"loc":{"start":{"line":187,"column":12},"end":{"line":187,"column":66}},"type":"binary-expr","locations":[{"start":{"line":187,"column":12},"end":{"line":187,"column":47}},{"start":{"line":187,"column":51},"end":{"line":187,"column":66}}],"line":187}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":24,"8":24,"9":22,"10":2,"11":2,"12":22,"13":2,"14":20,"15":4,"16":4,"17":4,"18":4,"19":4,"20":24,"21":0,"22":4,"23":4,"24":0,"25":15,"26":0,"27":15,"28":4,"29":0,"30":4,"31":0,"32":4,"33":19,"34":0,"35":19,"36":15,"37":15,"38":4,"39":4,"40":4,"41":4,"42":4,"43":0,"44":0,"45":0,"46":0,"47":2,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":1,"59":1,"60":1,"61":1,"62":1,"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":3,"75":3,"76":3,"77":3,"78":3,"79":1,"80":2,"81":2,"82":2,"83":2,"84":2,"85":1,"86":1,"87":1,"88":1,"89":2,"90":2,"91":2,"92":0,"93":2,"94":2,"95":2,"96":2,"97":2,"98":2,"99":2,"100":0,"101":2,"102":1,"103":1,"104":1,"105":1,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":4,"114":4,"115":1},"f":{"0":24,"1":4,"2":4,"3":4,"4":24,"5":0,"6":4,"7":15,"8":4,"9":19,"10":15,"11":4,"12":4,"13":0,"14":2,"15":0,"16":0,"17":0,"18":1,"19":3,"20":3,"21":1,"22":1,"23":4},"b":{"0":[2,20],"1":[0,4],"2":[0,15],"3":[0,4],"4":[0,4],"5":[0,19],"6":[0,0],"7":[1,1],"8":[2,2],"9":[0,0],"10":[0,0],"11":[1,1],"12":[3,0],"13":[3,3],"14":[1,2],"15":[1,1],"16":[1,0],"17":[1,1],"18":[1,0],"19":[1,1],"20":[0,2],"21":[2,0],"22":[2,2],"23":[2,0],"24":[2,2],"25":[0,2],"26":[2,0],"27":[2,2]},"inputSourceMap":{"version":3,"sources":["/Users/shaharyakir/Documents/dev/jetton-deployer/jetton-deployer-lib/lib/deploy-controller.ts"],"sourcesContent":["import BN from \"bn.js\";\nimport { Address, beginCell, Cell, toNano, TonClient } from \"ton\";\nimport { TransactionSender } from \"./transaction-sender\";\nimport { ContractDeployer } from \"./contract-deployer\";\n\n// TODO temporary\nimport axios from \"axios\";\nimport axiosThrottle from \"axios-request-throttle\";\nimport { FileUploader } from \"./file-uploader\";\nimport { parseGetMethodCall, waitForContractDeploy } from \"./utils\";\nimport { initData, mintBody, JETTON_MINTER_CODE } from \"../contracts/jetton-minter\";\naxiosThrottle.use(axios, { requestsPerSecond: 0.9 }); // required since toncenter jsonRPC limits to 1 req/sec without API key\n\nexport const JETTON_DEPLOY_GAS = toNano(0.25);\n\nexport enum JettonDeployState {\n  NOT_STARTED,\n  BALANCE_CHECK,\n  UPLOAD_IMAGE,\n  UPLOAD_METADATA,\n  AWAITING_MINTER_DEPLOY,\n  AWAITING_JWALLET_DEPLOY,\n  VERIFY_MINT,\n  ALREADY_DEPLOYED,\n  DONE,\n}\n\nexport interface JettonDeployParams {\n  jettonName: string;\n  jettonSymbol: string;\n  jettonIconImageData: File | Buffer;\n  jettonDescripton?: string;\n  owner: Address;\n  mintToOwner: boolean;\n  amountToMint: BN;\n  onProgress?: (state: JettonDeployState, error?: Error, msg?: string) => void;\n}\n\nexport class JettonDeployController {\n  #client: TonClient;\n\n  constructor(client: TonClient) {\n    this.#client = client;\n  }\n\n  async createJetton(params: JettonDeployParams, contractDeployer: ContractDeployer, transactionSender: TransactionSender, fileUploader: FileUploader) {\n    params.onProgress?.(JettonDeployState.BALANCE_CHECK);\n    const balance = await this.#client.getBalance(params.owner);\n    if (balance.lt(JETTON_DEPLOY_GAS)) throw new Error(\"Not enough balance in deployer wallet\");\n\n    const ipfsImageLink = await fileUploader.upload(params.jettonIconImageData);\n    const ipfsJsonLink = await fileUploader.upload(\n      JSON.stringify({\n        name: params.jettonName,\n        symbol: params.jettonSymbol,\n        description: params.jettonDescripton,\n        image: ipfsImageLink,\n      })\n    );\n\n    const deployParams = {\n      code: JETTON_MINTER_CODE,\n      data: initData(params.owner, ipfsJsonLink),\n      deployer: params.owner,\n      value: JETTON_DEPLOY_GAS,\n      message: mintBody(params.owner, params.amountToMint),\n    };\n\n    const contractAddr = contractDeployer.addressForContract(deployParams);\n\n    if (await this.#client.isContractDeployed(contractAddr)) {\n      params.onProgress?.(JettonDeployState.ALREADY_DEPLOYED);\n    } else {\n      await contractDeployer.deployContract(deployParams, transactionSender);\n      params.onProgress?.(JettonDeployState.AWAITING_MINTER_DEPLOY);\n      await waitForContractDeploy(contractAddr, this.#client);\n    }\n\n    const res = await this.#client.callGetMethod(contractAddr, \"get_jetton_data\");\n\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const deployedOwnerAddress = (parseGetMethodCall(res.stack)[2] as Cell).beginParse().readAddress()!;\n    if (deployedOwnerAddress.toFriendly() !== params.owner.toFriendly()) throw new Error(\"Contract deployed incorrectly\");\n\n    // const contentCell = (parseGetMethodCall(res.stack)[3] as Cell).beginParse();\n    // contentCell.readInt(8);\n    // console.log(\"contentURI:\" + contentCell.readRemainingBytes().toString('ascii'))\n\n    // todo what's the deal with idx:false\n    const res2 = await this.#client.callGetMethod(contractAddr, \"get_wallet_address\", [\n      [\"tvm.Slice\", beginCell().storeAddress(params.owner).endCell().toBoc({ idx: false }).toString(\"base64\")],\n    ]);\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const ownerJWalletAddr = (parseGetMethodCall(res2.stack)[0] as Cell).beginParse().readAddress()!;\n\n    params.onProgress?.(JettonDeployState.AWAITING_MINTER_DEPLOY);\n    await waitForContractDeploy(ownerJWalletAddr, this.#client);\n\n    params.onProgress?.(JettonDeployState.VERIFY_MINT, undefined, contractAddr.toFriendly()); // TODO better way of emitting the contract?\n\n    const res3 = await this.#client.callGetMethod(ownerJWalletAddr, \"get_wallet_data\");\n    if (!(parseGetMethodCall(res3.stack)[0] as BN).eq(params.amountToMint)) throw new Error(\"Mint fail\");\n    params.onProgress?.(JettonDeployState.DONE);\n  }\n\n  async getJettonDetails(contractAddr: Address, owner: Address) {\n    const jettonDataRes = await this.#client.callGetMethod(contractAddr, \"get_jetton_data\");\n\n    const contentCell = (parseGetMethodCall(jettonDataRes.stack)[3] as Cell).beginParse();\n    contentCell.readInt(8);\n    const jsonURI = contentCell.readRemainingBytes().toString(\"ascii\");\n    const jsonData = (await axios.get(jsonURI)).data;\n\n    const jwalletAdressRes = await this.#client.callGetMethod(contractAddr, \"get_wallet_address\", [\n      [\"tvm.Slice\", beginCell().storeAddress(owner).endCell().toBoc({ idx: false }).toString(\"base64\")],\n    ]);\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const ownerJWalletAddr = (parseGetMethodCall(jwalletAdressRes.stack)[0] as Cell).beginParse().readAddress()!;\n\n    const jwalletDataRes = await this.#client.callGetMethod(ownerJWalletAddr, \"get_wallet_data\");\n\n    return {\n      jetton: { ...jsonData, contractAddress: contractAddr.toFriendly() },\n      wallet: {\n        jettonAmount: (parseGetMethodCall(jwalletDataRes.stack)[0] as BN).toString(),\n        ownerJWallet: ownerJWalletAddr.toFriendly(),\n        owner: owner.toFriendly(),\n      },\n    };\n  }\n}",""],"names":["axiosThrottle","use","axios","requestsPerSecond","JETTON_DEPLOY_GAS","toNano","JettonDeployState","NOT_STARTED","BALANCE_CHECK","UPLOAD_IMAGE","UPLOAD_METADATA","AWAITING_MINTER_DEPLOY","AWAITING_JWALLET_DEPLOY","VERIFY_MINT","ALREADY_DEPLOYED","DONE","JettonDeployController","createJetton","params","contractDeployer","transactionSender","fileUploader","onProgress","balance","client","getBalance","owner","lt","Error","ipfsImageLink","upload","jettonIconImageData","ipfsJsonLink","JSON","stringify","name","jettonName","symbol","jettonSymbol","description","jettonDescripton","image","deployParams","code","JETTON_MINTER_CODE","data","initData","deployer","value","message","mintBody","amountToMint","contractAddr","addressForContract","isContractDeployed","deployContract","waitForContractDeploy","res","callGetMethod","deployedOwnerAddress","parseGetMethodCall","stack","beginParse","readAddress","toFriendly","res2","beginCell","storeAddress","endCell","toBoc","idx","toString","ownerJWalletAddr","undefined","res3","eq","getJettonDetails","jettonDataRes","contentCell","readInt","jsonURI","readRemainingBytes","jsonData","get","jwalletAdressRes","jwalletDataRes","jetton","contractAddress","wallet","jettonAmount","ownerJWallet","constructor"],"mappings":"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","file":"/Users/shaharyakir/Documents/dev/jetton-deployer/jetton-deployer-lib/lib/deploy-controller.ts"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f3711be60dbfbc527cfb5de029bf8c0c2da98133","contentHash":"c3c2e066bf2f62212a10caa055fd9c35a7dc10511de1d395816fa14d0cbdc025"},"/Users/shaharyakir/Documents/dev/jetton-deployer/jetton-deployer-lib/lib/utils.ts":{"path":"/Users/shaharyakir/Documents/dev/jetton-deployer/jetton-deployer-lib/lib/utils.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":4,"column":3}},"1":{"start":{"line":5,"column":0},"end":{"line":5,"column":22}},"2":{"start":{"line":6,"column":0},"end":{"line":6,"column":36}},"3":{"start":{"line":7,"column":0},"end":{"line":7,"column":54}},"4":{"start":{"line":8,"column":0},"end":{"line":8,"column":48}},"5":{"start":{"line":9,"column":12},"end":{"line":9,"column":52}},"6":{"start":{"line":10,"column":11},"end":{"line":10,"column":25}},"7":{"start":{"line":12,"column":4},"end":{"line":18,"column":5}},"8":{"start":{"line":13,"column":19},"end":{"line":13,"column":32}},"9":{"start":{"line":14,"column":20},"end":{"line":14,"column":30}},"10":{"start":{"line":16,"column":8},"end":{"line":16,"column":22}},"11":{"start":{"line":17,"column":8},"end":{"line":17,"column":15}},"12":{"start":{"line":19,"column":4},"end":{"line":23,"column":5}},"13":{"start":{"line":20,"column":8},"end":{"line":20,"column":23}},"14":{"start":{"line":22,"column":8},"end":{"line":22,"column":51}},"15":{"start":{"line":26,"column":4},"end":{"line":38,"column":6}},"16":{"start":{"line":27,"column":19},"end":{"line":27,"column":23}},"17":{"start":{"line":27,"column":32},"end":{"line":27,"column":41}},"18":{"start":{"line":28,"column":8},"end":{"line":37,"column":11}},"19":{"start":{"line":29,"column":22},"end":{"line":29,"column":42}},"20":{"start":{"line":31,"column":16},"end":{"line":31,"column":87}},"21":{"start":{"line":34,"column":16},"end":{"line":34,"column":86}},"22":{"start":{"line":36,"column":12},"end":{"line":36,"column":29}},"23":{"start":{"line":41,"column":4},"end":{"line":43,"column":6}},"24":{"start":{"line":46,"column":4},"end":{"line":46,"column":41}},"25":{"start":{"line":49,"column":4},"end":{"line":53,"column":7}},"26":{"start":{"line":50,"column":8},"end":{"line":52,"column":11}},"27":{"start":{"line":51,"column":12},"end":{"line":51,"column":38}},"28":{"start":{"line":54,"column":4},"end":{"line":54,"column":41}},"29":{"start":{"line":57,"column":4},"end":{"line":57,"column":48}},"30":{"start":{"line":60,"column":4},"end":{"line":70,"column":7}},"31":{"start":{"line":61,"column":28},"end":{"line":61,"column":51}},"32":{"start":{"line":62,"column":8},"end":{"line":69,"column":11}},"33":{"start":{"line":63,"column":12},"end":{"line":67,"column":13}},"34":{"start":{"line":63,"column":30},"end":{"line":63,"column":31}},"35":{"start":{"line":64,"column":16},"end":{"line":64,"column":34}},"36":{"start":{"line":65,"column":35},"end":{"line":65,"column":58}},"37":{"start":{"line":66,"column":16},"end":{"line":66,"column":53}},"38":{"start":{"line":66,"column":46},"end":{"line":66,"column":53}},"39":{"start":{"line":68,"column":12},"end":{"line":68,"column":39}},"40":{"start":{"line":71,"column":4},"end":{"line":71,"column":48}},"41":{"start":{"line":74,"column":4},"end":{"line":74,"column":57}},"42":{"start":{"line":77,"column":4},"end":{"line":87,"column":7}},"43":{"start":{"line":78,"column":25},"end":{"line":78,"column":30}},"44":{"start":{"line":79,"column":23},"end":{"line":79,"column":25}},"45":{"start":{"line":80,"column":8},"end":{"line":85,"column":9}},"46":{"start":{"line":81,"column":12},"end":{"line":81,"column":23}},"47":{"start":{"line":82,"column":12},"end":{"line":82,"column":66}},"48":{"start":{"line":83,"column":12},"end":{"line":83,"column":35}},"49":{"start":{"line":83,"column":28},"end":{"line":83,"column":35}},"50":{"start":{"line":84,"column":12},"end":{"line":84,"column":30}},"51":{"start":{"line":86,"column":8},"end":{"line":86,"column":35}},"52":{"start":{"line":88,"column":4},"end":{"line":88,"column":57}},"53":{"start":{"line":91,"column":4},"end":{"line":100,"column":7}},"54":{"start":{"line":92,"column":8},"end":{"line":99,"column":9}},"55":{"start":{"line":94,"column":16},"end":{"line":94,"column":71}},"56":{"start":{"line":96,"column":16},"end":{"line":96,"column":78}},"57":{"start":{"line":98,"column":16},"end":{"line":98,"column":48}}},"fnMap":{"0":{"name":"asyncGeneratorStep","decl":{"start":{"line":11,"column":9},"end":{"line":11,"column":27}},"loc":{"start":{"line":11,"column":75},"end":{"line":24,"column":1}},"line":11},"1":{"name":"_asyncToGenerator","decl":{"start":{"line":25,"column":9},"end":{"line":25,"column":26}},"loc":{"start":{"line":25,"column":31},"end":{"line":39,"column":1}},"line":25},"2":{"name":"(anonymous_2)","decl":{"start":{"line":26,"column":11},"end":{"line":26,"column":12}},"loc":{"start":{"line":26,"column":22},"end":{"line":38,"column":5}},"line":26},"3":{"name":"(anonymous_3)","decl":{"start":{"line":28,"column":27},"end":{"line":28,"column":28}},"loc":{"start":{"line":28,"column":53},"end":{"line":37,"column":9}},"line":28},"4":{"name":"_next","decl":{"start":{"line":30,"column":21},"end":{"line":30,"column":26}},"loc":{"start":{"line":30,"column":34},"end":{"line":32,"column":13}},"line":30},"5":{"name":"_throw","decl":{"start":{"line":33,"column":21},"end":{"line":33,"column":27}},"loc":{"start":{"line":33,"column":33},"end":{"line":35,"column":13}},"line":33},"6":{"name":"_interopRequireDefault","decl":{"start":{"line":40,"column":9},"end":{"line":40,"column":31}},"loc":{"start":{"line":40,"column":37},"end":{"line":44,"column":1}},"line":40},"7":{"name":"sleep","decl":{"start":{"line":45,"column":9},"end":{"line":45,"column":14}},"loc":{"start":{"line":45,"column":21},"end":{"line":47,"column":1}},"line":45},"8":{"name":"_sleep","decl":{"start":{"line":48,"column":9},"end":{"line":48,"column":15}},"loc":{"start":{"line":48,"column":18},"end":{"line":55,"column":1}},"line":48},"9":{"name":"(anonymous_9)","decl":{"start":{"line":49,"column":31},"end":{"line":49,"column":32}},"loc":{"start":{"line":49,"column":47},"end":{"line":53,"column":5}},"line":49},"10":{"name":"(anonymous_10)","decl":{"start":{"line":50,"column":27},"end":{"line":50,"column":28}},"loc":{"start":{"line":50,"column":38},"end":{"line":52,"column":9}},"line":50},"11":{"name":"waitForSeqno","decl":{"start":{"line":56,"column":9},"end":{"line":56,"column":21}},"loc":{"start":{"line":56,"column":30},"end":{"line":58,"column":1}},"line":56},"12":{"name":"_waitForSeqno","decl":{"start":{"line":59,"column":9},"end":{"line":59,"column":22}},"loc":{"start":{"line":59,"column":25},"end":{"line":72,"column":1}},"line":59},"13":{"name":"(anonymous_13)","decl":{"start":{"line":60,"column":38},"end":{"line":60,"column":39}},"loc":{"start":{"line":60,"column":56},"end":{"line":70,"column":5}},"line":60},"14":{"name":"(anonymous_14)","decl":{"start":{"line":62,"column":33},"end":{"line":62,"column":34}},"loc":{"start":{"line":62,"column":45},"end":{"line":69,"column":9}},"line":62},"15":{"name":"waitForContractDeploy","decl":{"start":{"line":73,"column":9},"end":{"line":73,"column":30}},"loc":{"start":{"line":73,"column":48},"end":{"line":75,"column":1}},"line":73},"16":{"name":"_waitForContractDeploy","decl":{"start":{"line":76,"column":9},"end":{"line":76,"column":31}},"loc":{"start":{"line":76,"column":34},"end":{"line":89,"column":1}},"line":76},"17":{"name":"(anonymous_17)","decl":{"start":{"line":77,"column":47},"end":{"line":77,"column":48}},"loc":{"start":{"line":77,"column":74},"end":{"line":87,"column":5}},"line":77},"18":{"name":"parseGetMethodCall","decl":{"start":{"line":90,"column":9},"end":{"line":90,"column":27}},"loc":{"start":{"line":90,"column":35},"end":{"line":101,"column":1}},"line":90},"19":{"name":"(anonymous_19)","decl":{"start":{"line":91,"column":21},"end":{"line":91,"column":22}},"loc":{"start":{"line":91,"column":36},"end":{"line":100,"column":5}},"line":91}},"branchMap":{"0":{"loc":{"start":{"line":19,"column":4},"end":{"line":23,"column":5}},"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":23,"column":5}},{"start":{"line":19,"column":4},"end":{"line":23,"column":5}}],"line":19},"1":{"loc":{"start":{"line":41,"column":11},"end":{"line":43,"column":5}},"type":"cond-expr","locations":[{"start":{"line":41,"column":35},"end":{"line":41,"column":38}},{"start":{"line":41,"column":41},"end":{"line":43,"column":5}}],"line":41},"2":{"loc":{"start":{"line":41,"column":11},"end":{"line":41,"column":32}},"type":"binary-expr","locations":[{"start":{"line":41,"column":11},"end":{"line":41,"column":14}},{"start":{"line":41,"column":18},"end":{"line":41,"column":32}}],"line":41},"3":{"loc":{"start":{"line":66,"column":16},"end":{"line":66,"column":53}},"type":"if","locations":[{"start":{"line":66,"column":16},"end":{"line":66,"column":53}},{"start":{"line":66,"column":16},"end":{"line":66,"column":53}}],"line":66},"4":{"loc":{"start":{"line":80,"column":14},"end":{"line":80,"column":41}},"type":"binary-expr","locations":[{"start":{"line":80,"column":14},"end":{"line":80,"column":25}},{"start":{"line":80,"column":29},"end":{"line":80,"column":41}}],"line":80},"5":{"loc":{"start":{"line":83,"column":12},"end":{"line":83,"column":35}},"type":"if","locations":[{"start":{"line":83,"column":12},"end":{"line":83,"column":35}},{"start":{"line":83,"column":12},"end":{"line":83,"column":35}}],"line":83},"6":{"loc":{"start":{"line":92,"column":8},"end":{"line":99,"column":9}},"type":"switch","locations":[{"start":{"line":93,"column":12},"end":{"line":94,"column":71}},{"start":{"line":95,"column":12},"end":{"line":96,"column":78}},{"start":{"line":97,"column":12},"end":{"line":98,"column":48}}],"line":92}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":6,"8":6,"9":6,"10":0,"11":0,"12":6,"13":3,"14":3,"15":1,"16":3,"17":3,"18":3,"19":3,"20":6,"21":0,"22":3,"23":1,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":3,"42":1,"43":3,"44":3,"45":3,"46":3,"47":3,"48":3,"49":3,"50":0,"51":0,"52":1,"53":7,"54":13,"55":8,"56":5,"57":0},"f":{"0":6,"1":1,"2":3,"3":3,"4":6,"5":0,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":3,"16":1,"17":3,"18":7,"19":13},"b":{"0":[3,3],"1":[0,1],"2":[1,1],"3":[0,0],"4":[3,3],"5":[3,0],"6":[8,5,0]},"inputSourceMap":{"version":3,"sources":["/Users/shaharyakir/Documents/dev/jetton-deployer/jetton-deployer-lib/lib/utils.ts"],"sourcesContent":["import BN from \"bn.js\";\nimport { Address, Cell, TonClient, Wallet } from \"ton\";\n\nexport async function sleep(time: number) {\n  return new Promise((resolve) => {\n    setTimeout(resolve, time);\n  });\n}\n\nexport async function waitForSeqno(wallet: Wallet) {\n  const seqnoBefore = await wallet.getSeqNo();\n\n  return async () => {\n    for (let attempt = 0; attempt < 10; attempt++) {\n      await sleep(3000);\n      const seqnoAfter = await wallet.getSeqNo();\n      if (seqnoAfter > seqnoBefore) return;\n    }\n    throw new Error(\"Timeout\");\n  };\n}\n\nexport async function waitForContractDeploy(address: Address, client: TonClient) {\n  let isDeployed = false;\n  let maxTries = 10;\n  while (!isDeployed && maxTries > 0) {\n    maxTries--;\n    isDeployed = await client.isContractDeployed(address);\n    if (isDeployed) return;\n    await sleep(3000);\n  }\n  throw new Error(\"Timeout\");\n}\n\nexport function parseGetMethodCall(stack: any[]) {\n  return stack.map(([type, val]) => {\n    switch (type) {\n      case \"num\":\n        return new BN(val.replace(\"0x\", \"\"), \"hex\");\n      case \"cell\":\n        return Cell.fromBoc(Buffer.from(val.bytes, \"base64\"))[0];\n      default:\n        throw new Error(\"unknown type\");\n    }\n  });\n}\n"],"names":["sleep","waitForSeqno","waitForContractDeploy","parseGetMethodCall","time","Promise","resolve","setTimeout","wallet","seqnoBefore","getSeqNo","attempt","seqnoAfter","Error","address","client","isDeployed","maxTries","isContractDeployed","stack","map","type","val","BN","replace","Cell","fromBoc","Buffer","from","bytes"],"mappings":"AAAA;;;;QAGsBA,KAAK,GAALA,KAAK;QAMLC,YAAY,GAAZA,YAAY;QAaZC,qBAAqB,GAArBA,qBAAqB;QAY3BC,kBAAkB,GAAlBA,kBAAkB;AAlCnB,IAAA,KAAO,kCAAP,OAAO,EAAA;AAC2B,IAAA,IAAK,WAAL,KAAK,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;SAEhCH,KAAK,CAACI,IAAY;WAAlBJ,MAAK;;SAALA,MAAK;IAALA,MAAK,GAApB,kBAAA,UAAqBI,IAAY,EAAE;QACxC,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,GAAK;YAC9BC,UAAU,CAACD,OAAO,EAAEF,IAAI,CAAC,CAAC;SAC3B,CAAC,CAAC;KACJ,CAAA;WAJqBJ,MAAK;;SAMLC,YAAY,CAACO,MAAc;WAA3BP,aAAY;;SAAZA,aAAY;IAAZA,aAAY,GAA3B,kBAAA,UAA4BO,MAAc,EAAE;QACjD,MAAMC,WAAW,GAAG,MAAMD,MAAM,CAACE,QAAQ,EAAE,AAAC;QAE5C,OAAO,kBAAA,YAAY;YACjB,IAAK,IAAIC,OAAO,GAAG,CAAC,EAAEA,OAAO,GAAG,EAAE,EAAEA,OAAO,EAAE,CAAE;gBAC7C,MAAMX,KAAK,CAAC,IAAI,CAAC,CAAC;gBAClB,MAAMY,UAAU,GAAG,MAAMJ,MAAM,CAACE,QAAQ,EAAE,AAAC;gBAC3C,IAAIE,UAAU,GAAGH,WAAW,EAAE,OAAO;aACtC;YACD,MAAM,IAAII,KAAK,CAAC,SAAS,CAAC,CAAC;SAC5B,CAAA,CAAC;KACH,CAAA;WAXqBZ,aAAY;;SAaZC,qBAAqB,CAACY,OAAgB,EAAEC,MAAiB;WAAzDb,sBAAqB;;SAArBA,sBAAqB;IAArBA,sBAAqB,GAApC,kBAAA,UAAqCY,OAAgB,EAAEC,MAAiB,EAAE;QAC/E,IAAIC,UAAU,GAAG,KAAK,AAAC;QACvB,IAAIC,QAAQ,GAAG,EAAE,AAAC;QAClB,MAAO,CAACD,UAAU,IAAIC,QAAQ,GAAG,CAAC,CAAE;YAClCA,QAAQ,EAAE,CAAC;YACXD,UAAU,GAAG,MAAMD,MAAM,CAACG,kBAAkB,CAACJ,OAAO,CAAC,CAAC;YACtD,IAAIE,UAAU,EAAE,OAAO;YACvB,MAAMhB,KAAK,CAAC,IAAI,CAAC,CAAC;SACnB;QACD,MAAM,IAAIa,KAAK,CAAC,SAAS,CAAC,CAAC;KAC5B,CAAA;WAVqBX,sBAAqB;;AAYpC,SAASC,kBAAkB,CAACgB,KAAY,EAAE;IAC/C,OAAOA,KAAK,CAACC,GAAG,CAAC,CAAC,CAACC,IAAI,EAAEC,GAAG,CAAC,GAAK;QAChC,OAAQD,IAAI;YACV,KAAK,KAAK;gBACR,OAAO,IAAIE,KAAE,QAAA,CAACD,GAAG,CAACE,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;YAC9C,KAAK,MAAM;gBACT,OAAOC,IAAI,KAAA,CAACC,OAAO,CAACC,MAAM,CAACC,IAAI,CAACN,GAAG,CAACO,KAAK,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC3D;gBACE,MAAM,IAAIhB,KAAK,CAAC,cAAc,CAAC,CAAC;SACnC;KACF,CAAC,CAAC;CACJ","file":"/Users/shaharyakir/Documents/dev/jetton-deployer/jetton-deployer-lib/lib/utils.ts"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"79ce83cab2f6cae9863e653c54718cbc4ee7861a","contentHash":"0d46033d99ad49d9721aa7dcc217019599124d52d2a89ba157fdc9c975e2f7ea"},"/Users/shaharyakir/Documents/dev/jetton-deployer/jetton-deployer-lib/contracts/jetton-minter.ts":{"path":"/Users/shaharyakir/Documents/dev/jetton-deployer/jetton-deployer-lib/contracts/jetton-minter.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":4,"column":3}},"1":{"start":{"line":5,"column":0},"end":{"line":5,"column":28}},"2":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"3":{"start":{"line":7,"column":0},"end":{"line":7,"column":65}},"4":{"start":{"line":8,"column":11},"end":{"line":8,"column":25}},"5":{"start":{"line":9,"column":9},"end":{"line":9,"column":47}},"6":{"start":{"line":11,"column":4},"end":{"line":11,"column":51}},"7":{"start":{"line":11,"column":39},"end":{"line":11,"column":51}},"8":{"start":{"line":12,"column":16},"end":{"line":12,"column":29}},"9":{"start":{"line":13,"column":4},"end":{"line":15,"column":6}},"10":{"start":{"line":14,"column":8},"end":{"line":14,"column":21}},"11":{"start":{"line":16,"column":4},"end":{"line":16,"column":17}},"12":{"start":{"line":19,"column":4},"end":{"line":21,"column":5}},"13":{"start":{"line":20,"column":8},"end":{"line":20,"column":19}},"14":{"start":{"line":22,"column":4},"end":{"line":26,"column":5}},"15":{"start":{"line":23,"column":8},"end":{"line":25,"column":10}},"16":{"start":{"line":27,"column":16},"end":{"line":27,"column":42}},"17":{"start":{"line":28,"column":4},"end":{"line":30,"column":5}},"18":{"start":{"line":29,"column":8},"end":{"line":29,"column":30}},"19":{"start":{"line":31,"column":17},"end":{"line":31,"column":19}},"20":{"start":{"line":32,"column":32},"end":{"line":32,"column":88}},"21":{"start":{"line":33,"column":4},"end":{"line":42,"column":5}},"22":{"start":{"line":34,"column":8},"end":{"line":41,"column":9}},"23":{"start":{"line":35,"column":23},"end":{"line":35,"column":95}},"24":{"start":{"line":36,"column":12},"end":{"line":40,"column":13}},"25":{"start":{"line":37,"column":16},"end":{"line":37,"column":57}},"26":{"start":{"line":39,"column":16},"end":{"line":39,"column":39}},"27":{"start":{"line":43,"column":4},"end":{"line":43,"column":25}},"28":{"start":{"line":44,"column":4},"end":{"line":46,"column":5}},"29":{"start":{"line":45,"column":8},"end":{"line":45,"column":31}},"30":{"start":{"line":47,"column":4},"end":{"line":47,"column":18}},"31":{"start":{"line":49,"column":32},"end":{"line":49,"column":36}},"32":{"start":{"line":50,"column":27},"end":{"line":50,"column":92}},"33":{"start":{"line":51,"column":0},"end":{"line":51,"column":48}},"34":{"start":{"line":52,"column":27},"end":{"line":52,"column":92}},"35":{"start":{"line":53,"column":0},"end":{"line":53,"column":48}},"36":{"start":{"line":55,"column":0},"end":{"line":59,"column":22}},"37":{"start":{"line":56,"column":4},"end":{"line":56,"column":35}},"38":{"start":{"line":57,"column":4},"end":{"line":57,"column":67}},"39":{"start":{"line":58,"column":4},"end":{"line":58,"column":50}},"40":{"start":{"line":61,"column":4},"end":{"line":62,"column":101}},"41":{"start":{"line":65,"column":4},"end":{"line":72,"column":26}}},"fnMap":{"0":{"name":"_getRequireWildcardCache","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":33}},"loc":{"start":{"line":10,"column":36},"end":{"line":17,"column":1}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":31},"end":{"line":13,"column":32}},"loc":{"start":{"line":13,"column":42},"end":{"line":15,"column":5}},"line":13},"2":{"name":"_interopRequireWildcard","decl":{"start":{"line":18,"column":9},"end":{"line":18,"column":32}},"loc":{"start":{"line":18,"column":38},"end":{"line":48,"column":1}},"line":18},"3":{"name":"(anonymous_3)","decl":{"start":{"line":55,"column":1},"end":{"line":55,"column":2}},"loc":{"start":{"line":55,"column":15},"end":{"line":59,"column":1}},"line":55},"4":{"name":"initData","decl":{"start":{"line":60,"column":9},"end":{"line":60,"column":17}},"loc":{"start":{"line":60,"column":37},"end":{"line":63,"column":1}},"line":60},"5":{"name":"mintBody","decl":{"start":{"line":64,"column":9},"end":{"line":64,"column":17}},"loc":{"start":{"line":64,"column":38},"end":{"line":73,"column":1}},"line":64}},"branchMap":{"0":{"loc":{"start":{"line":11,"column":4},"end":{"line":11,"column":51}},"type":"if","locations":[{"start":{"line":11,"column":4},"end":{"line":11,"column":51}},{"start":{"line":11,"column":4},"end":{"line":11,"column":51}}],"line":11},"1":{"loc":{"start":{"line":19,"column":4},"end":{"line":21,"column":5}},"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":21,"column":5}},{"start":{"line":19,"column":4},"end":{"line":21,"column":5}}],"line":19},"2":{"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":29}},"type":"binary-expr","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":11}},{"start":{"line":19,"column":15},"end":{"line":19,"column":29}}],"line":19},"3":{"loc":{"start":{"line":22,"column":4},"end":{"line":26,"column":5}},"type":"if","locations":[{"start":{"line":22,"column":4},"end":{"line":26,"column":5}},{"start":{"line":22,"column":4},"end":{"line":26,"column":5}}],"line":22},"4":{"loc":{"start":{"line":22,"column":8},"end":{"line":22,"column":76}},"type":"binary-expr","locations":[{"start":{"line":22,"column":8},"end":{"line":22,"column":20}},{"start":{"line":22,"column":24},"end":{"line":22,"column":47}},{"start":{"line":22,"column":51},"end":{"line":22,"column":76}}],"line":22},"5":{"loc":{"start":{"line":28,"column":4},"end":{"line":30,"column":5}},"type":"if","locations":[{"start":{"line":28,"column":4},"end":{"line":30,"column":5}},{"start":{"line":28,"column":4},"end":{"line":30,"column":5}}],"line":28},"6":{"loc":{"start":{"line":28,"column":8},"end":{"line":28,"column":31}},"type":"binary-expr","locations":[{"start":{"line":28,"column":8},"end":{"line":28,"column":13}},{"start":{"line":28,"column":17},"end":{"line":28,"column":31}}],"line":28},"7":{"loc":{"start":{"line":32,"column":32},"end":{"line":32,"column":88}},"type":"binary-expr","locations":[{"start":{"line":32,"column":32},"end":{"line":32,"column":53}},{"start":{"line":32,"column":57},"end":{"line":32,"column":88}}],"line":32},"8":{"loc":{"start":{"line":34,"column":8},"end":{"line":41,"column":9}},"type":"if","locations":[{"start":{"line":34,"column":8},"end":{"line":41,"column":9}},{"start":{"line":34,"column":8},"end":{"line":41,"column":9}}],"line":34},"9":{"loc":{"start":{"line":35,"column":23},"end":{"line":35,"column":95}},"type":"cond-expr","locations":[{"start":{"line":35,"column":47},"end":{"line":35,"column":88}},{"start":{"line":35,"column":91},"end":{"line":35,"column":95}}],"line":35},"10":{"loc":{"start":{"line":36,"column":12},"end":{"line":40,"column":13}},"type":"if","locations":[{"start":{"line":36,"column":12},"end":{"line":40,"column":13}},{"start":{"line":36,"column":12},"end":{"line":40,"column":13}}],"line":36},"11":{"loc":{"start":{"line":36,"column":16},"end":{"line":36,"column":46}},"type":"binary-expr","locations":[{"start":{"line":36,"column":16},"end":{"line":36,"column":20}},{"start":{"line":36,"column":25},"end":{"line":36,"column":33}},{"start":{"line":36,"column":37},"end":{"line":36,"column":45}}],"line":36},"12":{"loc":{"start":{"line":44,"column":4},"end":{"line":46,"column":5}},"type":"if","locations":[{"start":{"line":44,"column":4},"end":{"line":46,"column":5}},{"start":{"line":44,"column":4},"end":{"line":46,"column":5}}],"line":44},"13":{"loc":{"start":{"line":59,"column":3},"end":{"line":59,"column":20}},"type":"binary-expr","locations":[{"start":{"line":59,"column":3},"end":{"line":59,"column":6}},{"start":{"line":59,"column":11},"end":{"line":59,"column":19}}],"line":59}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":1,"9":1,"10":0,"11":1,"12":1,"13":0,"14":1,"15":0,"16":1,"17":1,"18":0,"19":1,"20":1,"21":1,"22":101,"23":101,"24":101,"25":5,"26":96,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":7,"41":2},"f":{"0":1,"1":0,"2":1,"3":1,"4":7,"5":2},"b":{"0":[0,1],"1":[0,1],"2":[1,1],"3":[0,1],"4":[1,1,0],"5":[0,1],"6":[1,1],"7":[1,1],"8":[101,0],"9":[101,0],"10":[5,96],"11":[101,101,96],"12":[1,0],"13":[1,1]},"inputSourceMap":{"version":3,"sources":["/Users/shaharyakir/Documents/dev/jetton-deployer/jetton-deployer-lib/contracts/jetton-minter.ts"],"sourcesContent":["import BN from \"bn.js\";\nimport { Cell, beginCell, Address, toNano } from \"ton\";\nimport * as fs from \"fs\";\n\nconst OFFCHAIN_CONTENT_PREFIX = 0x01;\n\n// export const minterCode =\n//   \"B5EE9C72410209010001AA000114FF00F4A413F4BCF2C80B0102016202030202CC040502037A60070801D5D9910E38048ADF068698180B8D848ADF07D201800E98FE99FF6A2687D007D206A6A18400AA9385D47181A9AA8AAE382F9702480FD207D006A18106840306B90FD001812881A28217804502A906428027D012C678B666664F6AA7041083DEECBEF0BDD71812F83C207F9784060093DFC142201B82A1009AA0A01E428027D012C678B00E78B666491646580897A007A00658064907C80383A6465816503E5FFE4E83BC00C646582AC678B28027D0109E5B589666664B8FD80400FC03FA00FA40F82854120870542013541403C85004FA0258CF1601CF16CCC922C8CB0112F400F400CB00C9F9007074C8CB02CA07CBFFC9D05008C705F2E04A12A1035024C85004FA0258CF16CCCCC9ED5401FA403020D70B01C3008E1F8210D53276DB708010C8CB055003CF1622FA0212CB6ACB1FCB3FC98042FB00915BE2007DADBCF6A2687D007D206A6A183618FC1400B82A1009AA0A01E428027D012C678B00E78B666491646580897A007A00658064FC80383A6465816503E5FFE4E840001FAF16F6A2687D007D206A6A183FAA9040F6B06B3C\"; // \"b5ee9c72c1020b010001ed000000000d00120018002a006b007000bc01390152016c0114ff00f4a413f4bcf2c80b01020162050202037a600403001faf16f6a2687d007d206a6a183faa9040007dadbcf6a2687d007d206a6a183618fc1400b82a1009aa0a01e428027d012c678b00e78b666491646580897a007a00658064fc80383a6465816503e5ffe4e8400202cc07060093b3f0508806e0a84026a8280790a009f404b19e2c039e2d99924591960225e801e80196019241f200e0e9919605940f97ff93a0ef003191960ab19e2ca009f4042796d625999992e3f60103efd9910e38048adf068698180b8d848adf07d201800e98fe99ff6a2687d007d206a6a18400aa9385d47181a9aa8aae382f9702480fd207d006a18106840306b90fd001812881a28217804d02a906428027d012c678b666664f6aa7041083deecbef29385d71811a92e001f1811802600271812f82c207f97840a0908002e5143c705f2e049d43001c85004fa0258cf16ccccc9ed5400303515c705f2e049fa403059c85004fa0258cf16ccccc9ed5400fe3603fa00fa40f82854120870542013541403c85004fa0258cf1601cf16ccc922c8cb0112f400f400cb00c9f9007074c8cb02ca07cbffc9d05008c705f2e04a12a1035024c85004fa0258cf16ccccc9ed5401fa403020d70b01c3008e1f8210d53276db708010c8cb055003cf1622fa0212cb6acb1fcb3fc98042fb00915be2cc665c46\";\n// const walletCode =\n//   \"B5EE9C7241021101000319000114FF00F4A413F4BCF2C80B0102016202030202CC0405001BA0F605DA89A1F401F481F481A8610201D40607020148080900BB0831C02497C138007434C0C05C6C2544D7C0FC02F83E903E900C7E800C5C75C87E800C7E800C00B4C7E08403E29FA954882EA54C4D167C0238208405E3514654882EA58C4CD00CFC02780D60841657C1EF2EA4D67C02B817C12103FCBC2000113E910C1C2EBCB853600201200A0B0201200F1001F500F4CFFE803E90087C007B51343E803E903E90350C144DA8548AB1C17CB8B04A30BFFCB8B0950D109C150804D50500F214013E809633C58073C5B33248B232C044BD003D0032C032483E401C1D3232C0B281F2FFF274013E903D010C7E801DE0063232C1540233C59C3E8085F2DAC4F3208405E351467232C7C6600C02F13B51343E803E903E90350C01F4CFFE80145468017E903E9014D6B1C1551CDB1C150804D50500F214013E809633C58073C5B33248B232C044BD003D0032C0327E401C1D3232C0B281F2FFF274140331C146EC7CB8B0C27E8020822625A020822625A02806A8486544124E17C138C34975C2C070C00930802C200D0E008ECB3F5007FA0222CF165006CF1625FA025003CF16C95005CC07AA0013A08208989680AA008208989680A0A014BCF2E2C504C98040FB001023C85004FA0258CF1601CF16CCC9ED54006C5219A018A182107362D09CC8CB1F5240CB3F5003FA0201CF165007CF16C9718018C8CB0525CF165007FA0216CB6A15CCC971FB00103400828E2A820898968072FB028210D53276DB708010C8CB055008CF165005FA0216CB6A13CB1F13CB3FC972FB0058926C33E25502C85004FA0258CF1601CF16CCC9ED5400DB3B51343E803E903E90350C01F4CFFE803E900C145468549271C17CB8B049F0BFFCB8B0A0822625A02A8005A805AF3CB8B0E0841EF765F7B232C7C572CFD400FE8088B3C58073C5B25C60043232C14933C59C3E80B2DAB33260103EC01004F214013E809633C58073C5B3327B55200083200835C87B51343E803E903E90350C0134C7E08405E3514654882EA0841EF765F784EE84AC7CB8B174CFCC7E800C04E81408F214013E809633C58073C5B3327B55204F664B79\"; // // \"b5ee9c72c1021201000328000000000d001200220027002c00700075007a00ea016b01a801b101eb026902b802bd02c80114ff00f4a413f4bcf2c80b010201620302001ba0f605da89a1f401f481f481a8610202cc0f0402012006050083d40106b90f6a2687d007d207d206a1802698fc1080bc6a28ca9105d41083deecbef09dd0958f97162e99f98fd001809d02811e428027d012c678b00e78b6664f6aa40201200d07020120090800db3b51343e803e903e90350c01f4cffe803e900c145468549271c17cb8b049f0bffcb8b0a0822625a02a8005a805af3cb8b0e0841ef765f7b232c7c572cfd400fe8088b3c58073c5b25c60063232c14933c59c3e80b2dab33260103ec01004f214013e809633c58073c5b3327b552003f73b51343e803e903e90350c0234cffe80145468017e903e9014d6f1c1551cdb5c150804d50500f214013e809633c58073c5b33248b232c044bd003d0032c0327e401c1d3232c0b281f2fff274140371c1472c7cb8b0c2be80146a2860822625a020822625a004ad822860822625a028062849f8c3c975c2c070c008e00c0b0a0076c200b08e218210d53276db708010c8cb055008cf165004fa0216cb6a12cb1f12cb3fc972fb0093356c21e203c85004fa0258cf1601cf16ccc9ed54000e10491038375f0400705279a018a182107362d09cc8cb1f5230cb3f58fa025007cf165007cf16c9718018c8cb0524cf165006fa0215cb6a14ccc971fb001024102301f5503d33ffa00fa4021f001ed44d0fa00fa40fa40d4305136a1522ac705f2e2c128c2fff2e2c254344270542013541403c85004fa0258cf1601cf16ccc922c8cb0112f400f400cb00c920f9007074c8cb02ca07cbffc9d004fa40f40431fa00778018c8cb055008cf1670fa0217cb6b13cc8210178d4519c8cb1f1980e009acb3f5007fa0222cf165006cf1625fa025003cf16c95005cc2391729171e25008a813a08208989680aa008208989680a0a014bcf2e2c504c98040fb001023c85004fa0258cf1601cf16ccc9ed540201d4111000113e910c1c2ebcb8536000bb0831c02497c138007434c0c05c6c2544d7c0fc03383e903e900c7e800c5c75c87e800c7e800c00b4c7e08403e29fa954882ea54c4d167c0278208405e3514654882ea58c511100fc02b80d60841657c1ef2ea4d67c02f817c12103fcbc20c2d0bee8\";\n\nexport const JETTON_WALLET_CODE = Cell.fromBoc(fs.readFileSync(\"build/jetton-wallet.cell\"))[0];\nexport const JETTON_MINTER_CODE = Cell.fromBoc(fs.readFileSync(\"build/jetton-minter.cell\"))[0]; // code cell from build output\n\nenum OPS {\n  Mint = 21,\n  InternalTransfer = 0x178d4519,\n  Transfer = 0xf8a7ea5,\n}\n\n// // encode contract storage according to save_data() contract method\n// const serializeUri = (uri: string) => {\n//   return new TextEncoder().encode(encodeURI(uri));\n// };\n\n// const createOffchainUriCell = (uri: string) => {\n//   const cell = new Cell();\n//   cell.bits.writeUint(OFFCHAIN_CONTENT_PREFIX, 8);\n//   serializeUri(uri).forEach((u) => cell.bits.writeUint8(u));\n//   return cell;\n// };\n\n// export function data(params: { totalSupply: BN; adminAddress: Address; offchainUri: string; jettonWalletCode: Cell }): Cell {\n//   return beginCell()\n//     .storeCoins(params.totalSupply)\n//     .storeAddress(params.adminAddress)\n//     .storeRef(createOffchainUriCell(params.offchainUri))\n//     .storeRef(params.jettonWalletCode)\n//     .endCell();\n// }\n\nexport function initData(owner: Address, contentUri: string) {\n  return beginCell()\n    .storeCoins(0)\n    .storeAddress(owner)\n    .storeRef(\n      beginCell()\n        .storeInt(OFFCHAIN_CONTENT_PREFIX, 8) // off-chain marker (https://github.com/ton-blockchain/TIPs/issues/64)\n        .storeBuffer(Buffer.from(contentUri, \"ascii\"))\n        .endCell()\n    )\n    .storeRef(JETTON_WALLET_CODE)\n    .endCell();\n}\n\nexport function mintBody(owner: Address, jettonValue: BN): Cell {\n  return beginCell()\n    .storeUint(OPS.Mint, 32) // opcode (reference TODO)\n    .storeUint(0, 64) // queryid\n    .storeAddress(owner)\n    .storeCoins(toNano(0.2)) // gas fee\n    .storeRef(\n      // internal transfer message\n      beginCell()\n        .storeUint(OPS.InternalTransfer, 32)\n        .storeUint(0, 64)\n        .storeCoins(jettonValue)\n        .storeAddress(null) // TODO FROM?\n        .storeAddress(null) // TODO RESP?\n        .storeCoins(0)\n        .storeBit(false) // forward_payload in this slice, not separate cell\n        .endCell()\n    )\n    .endCell();\n}\n\n// message encoders for all ops (see contracts/imports/constants.fc for consts)\n\n// export function increment(): Cell {\n//   return beginCell().storeUint(0x37491f2f, 32).storeUint(0, 64).endCell();\n// }\n\n// export function deposit(): Cell {\n//   return beginCell().storeUint(0x47d54391, 32).storeUint(0, 64).endCell();\n// }\n\n// export function withdraw(params: { withdrawAmount: BN }): Cell {\n//   return beginCell().storeUint(0x41836980, 32).storeUint(0, 64).storeCoins(params.withdrawAmount).endCell();\n// }\n\n// export function transferOwnership(params: { newOwnerAddress: Address }): Cell {\n//   return beginCell().storeUint(0x2da38aaf, 32).storeUint(0, 64).storeAddress(params.newOwnerAddress).endCell();\n// }\n"],"names":["initData","mintBody","fs","OFFCHAIN_CONTENT_PREFIX","JETTON_WALLET_CODE","Cell","fromBoc","readFileSync","JETTON_MINTER_CODE","OPS","Mint","InternalTransfer","Transfer","owner","contentUri","beginCell","storeCoins","storeAddress","storeRef","storeInt","storeBuffer","Buffer","from","endCell","jettonValue","storeUint","toNano","storeBit"],"mappings":"AAAA;;;;QAyCgBA,QAAQ,GAARA,QAAQ;QAcRC,QAAQ,GAARA,QAAQ;;AAtDyB,IAAA,IAAK,WAAL,KAAK,CAAA;AAC1CC,IAAAA,EAAE,mCAAM,IAAI,EAAV;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEd,MAAMC,uBAAuB,GAAG,IAAI,AAAC;AAO9B,MAAMC,kBAAkB,GAAGC,IAAI,KAAA,CAACC,OAAO,CAACJ,EAAE,CAACK,YAAY,CAAC,0BAA0B,CAAC,CAAC,CAAC,CAAC,CAAC,AAAC;QAAlFH,kBAAkB,GAAlBA,kBAAkB;AACxB,MAAMI,kBAAkB,GAAGH,IAAI,KAAA,CAACC,OAAO,CAACJ,EAAE,CAACK,YAAY,CAAC,0BAA0B,CAAC,CAAC,CAAC,CAAC,CAAC,AAAC,EAAC,8BAA8B;QAAjHC,kBAAkB,GAAlBA,kBAAkB;IAE/B,GAIC;UAJIC,GAAG;IAAHA,GAAG,CAAHA,GAAG,CACNC,MAAI,IAAG,EAAE,IAATA,MAAI;IADDD,GAAG,CAAHA,GAAG,CAENE,kBAAgB,IAAG,UAAU,IAA7BA,kBAAgB;IAFbF,GAAG,CAAHA,GAAG,CAGNG,UAAQ,IAAG,SAAS,IAApBA,UAAQ;GAHLH,GAAG,KAAHA,GAAG;AA2BD,SAAST,QAAQ,CAACa,KAAc,EAAEC,UAAkB,EAAE;IAC3D,OAAOC,CAAAA,GAAAA,IAAS,AAAE,CAAA,UAAF,EAAE,CACfC,UAAU,CAAC,CAAC,CAAC,CACbC,YAAY,CAACJ,KAAK,CAAC,CACnBK,QAAQ,CACPH,CAAAA,GAAAA,IAAS,AAAE,CAAA,UAAF,EAAE,CACRI,QAAQ,CAAChB,uBAAuB,EAAE,CAAC,CAAC,CAAC,sEAAsE;KAC3GiB,WAAW,CAACC,MAAM,CAACC,IAAI,CAACR,UAAU,EAAE,OAAO,CAAC,CAAC,CAC7CS,OAAO,EAAE,CACb,CACAL,QAAQ,CAACd,kBAAkB,CAAC,CAC5BmB,OAAO,EAAE,CAAC;CACd;AAEM,SAAStB,QAAQ,CAACY,KAAc,EAAEW,WAAe,EAAQ;IAC9D,OAAOT,CAAAA,GAAAA,IAAS,AAAE,CAAA,UAAF,EAAE,CACfU,SAAS,CAAChB,GAAG,CAACC,IAAI,EAAE,EAAE,CAAC,CAAC,0BAA0B;KAClDe,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,UAAU;KAC3BR,YAAY,CAACJ,KAAK,CAAC,CACnBG,UAAU,CAACU,CAAAA,GAAAA,IAAM,AAAK,CAAA,OAAL,CAAC,GAAG,CAAC,CAAC,CAAC,UAAU;KAClCR,QAAQ,CACP,4BAA4B;IAC5BH,CAAAA,GAAAA,IAAS,AAAE,CAAA,UAAF,EAAE,CACRU,SAAS,CAAChB,GAAG,CAACE,gBAAgB,EAAE,EAAE,CAAC,CACnCc,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,CAChBT,UAAU,CAACQ,WAAW,CAAC,CACvBP,YAAY,CAAC,IAAI,CAAC,CAAC,aAAa;KAChCA,YAAY,CAAC,IAAI,CAAC,CAAC,aAAa;KAChCD,UAAU,CAAC,CAAC,CAAC,CACbW,QAAQ,CAAC,KAAK,CAAC,CAAC,mDAAmD;KACnEJ,OAAO,EAAE,CACb,CACAA,OAAO,EAAE,CAAC;CACd,CAED,+EAA+E;CAE/E,sCAAsC;CACtC,6EAA6E;CAC7E,IAAI;CAEJ,oCAAoC;CACpC,6EAA6E;CAC7E,IAAI;CAEJ,mEAAmE;CACnE,+GAA+G;CAC/G,IAAI;CAEJ,kFAAkF;CAClF,kHAAkH;CAClH,IAAI","file":"/Users/shaharyakir/Documents/dev/jetton-deployer/jetton-deployer-lib/contracts/jetton-minter.ts"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1048ccc28717ce6e30d2b3b0dcb14dded9935230","contentHash":"044539042679b374cc7e299a4e81bbc478c4368cdb0d25014665c6e0882f9a9c"},"/Users/shaharyakir/Documents/dev/jetton-deployer/jetton-deployer-lib/contracts/jetton-wallet.ts":{"path":"/Users/shaharyakir/Documents/dev/jetton-deployer/jetton-deployer-lib/contracts/jetton-wallet.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":4,"column":3}},"1":{"start":{"line":5,"column":0},"end":{"line":5,"column":20}},"2":{"start":{"line":6,"column":11},"end":{"line":6,"column":25}},"3":{"start":{"line":8,"column":4},"end":{"line":8,"column":172}}},"fnMap":{"0":{"name":"data","decl":{"start":{"line":7,"column":9},"end":{"line":7,"column":13}},"loc":{"start":{"line":7,"column":22},"end":{"line":9,"column":1}},"line":7}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":6},"f":{"0":6},"b":{},"inputSourceMap":{"version":3,"sources":["/Users/shaharyakir/Documents/dev/jetton-deployer/jetton-deployer-lib/contracts/jetton-wallet.ts"],"sourcesContent":["import { Cell, beginCell, Address, BitString } from \"ton\";\n\nexport function data(params: { walletOwnerAddress: Address; jettonMasterAddress: Address; jettonWalletCode: Cell }): Cell {\n  return beginCell().storeCoins(0).storeAddress(params.walletOwnerAddress).storeAddress(params.jettonMasterAddress).storeRef(params.jettonWalletCode).endCell();\n}\n\n// .store_uint(0, 2)\n// .store_dict(jetton_wallet_code)\n// .store_dict(pack_jetton_wallet_data(0, owner_address, jetton_master_address, jetton_wallet_code))\n// .store_uint(0, 1)\n"],"names":["data","params","beginCell","storeCoins","storeAddress","walletOwnerAddress","jettonMasterAddress","storeRef","jettonWalletCode","endCell"],"mappings":"AAAA;;;;QAEgBA,IAAI,GAAJA,IAAI;AAFgC,IAAA,IAAK,WAAL,KAAK,CAAA;AAElD,SAASA,IAAI,CAACC,MAA6F,EAAQ;IACxH,OAAOC,CAAAA,GAAAA,IAAS,AAAE,CAAA,UAAF,EAAE,CAACC,UAAU,CAAC,CAAC,CAAC,CAACC,YAAY,CAACH,MAAM,CAACI,kBAAkB,CAAC,CAACD,YAAY,CAACH,MAAM,CAACK,mBAAmB,CAAC,CAACC,QAAQ,CAACN,MAAM,CAACO,gBAAgB,CAAC,CAACC,OAAO,EAAE,CAAC;CAC/J,CAED,oBAAoB;CACpB,kCAAkC;CAClC,oGAAoG;CACpG,oBAAoB","file":"/Users/shaharyakir/Documents/dev/jetton-deployer/jetton-deployer-lib/contracts/jetton-wallet.ts"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c2fd893a9d8df21b5ff7c8f7a33b0d88c4bd3d63","contentHash":"10d3fe3d59dc8c0690fb1a9da3157527486097caa2ae828bab3e707707ced816"},"/Users/shaharyakir/Documents/dev/jetton-deployer/jetton-deployer-lib/jetton-utils.js":{"path":"/Users/shaharyakir/Documents/dev/jetton-deployer/jetton-deployer-lib/jetton-utils.js","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":98}},"2":{"start":{"line":5,"column":18},"end":{"line":5,"column":20}},"3":{"start":{"line":6,"column":2},"end":{"line":8,"column":3}},"4":{"start":{"line":7,"column":4},"end":{"line":7,"column":44}},"5":{"start":{"line":9,"column":2},"end":{"line":12,"column":4}},"6":{"start":{"line":15,"column":2},"end":{"line":19,"column":4}},"7":{"start":{"line":21,"column":0},"end":{"line":21,"column":48}},"8":{"start":{"line":23,"column":2},"end":{"line":23,"column":57}},"9":{"start":{"line":25,"column":0},"end":{"line":25,"column":44}},"10":{"start":{"line":27,"column":2},"end":{"line":31,"column":4}},"11":{"start":{"line":33,"column":0},"end":{"line":33,"column":60}}},"fnMap":{"0":{"name":"parseContentField","decl":{"start":{"line":4,"column":9},"end":{"line":4,"column":26}},"loc":{"start":{"line":4,"column":36},"end":{"line":13,"column":1}},"line":4},"1":{"name":"parseJettonDetails","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":27}},"loc":{"start":{"line":14,"column":40},"end":{"line":20,"column":1}},"line":14},"2":{"name":"getWalletAddress","decl":{"start":{"line":22,"column":9},"end":{"line":22,"column":25}},"loc":{"start":{"line":22,"column":33},"end":{"line":24,"column":1}},"line":22},"3":{"name":"parseJettonWalletDetails","decl":{"start":{"line":26,"column":9},"end":{"line":26,"column":33}},"loc":{"start":{"line":26,"column":46},"end":{"line":32,"column":1}},"line":26}},"branchMap":{},"s":{"0":1,"1":1,"2":4,"3":4,"4":200,"5":4,"6":4,"7":1,"8":0,"9":1,"10":6,"11":1},"f":{"0":4,"1":4,"2":0,"3":6},"b":{},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ce767cf98197b045223cafd90caa1cf223988beb","contentHash":"fd24f94b8af3b33c9eb319032b2d9a679a3898bdc87eafa888df72eefe16682f"},"/Users/shaharyakir/Documents/dev/jetton-deployer/jetton-deployer-lib/lib/consts.ts":{"path":"/Users/shaharyakir/Documents/dev/jetton-deployer/jetton-deployer-lib/lib/consts.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":4,"column":3}},"1":{"start":{"line":5,"column":0},"end":{"line":5,"column":27}},"2":{"start":{"line":6,"column":18},"end":{"line":6,"column":19}},"3":{"start":{"line":7,"column":0},"end":{"line":7,"column":30}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["/Users/shaharyakir/Documents/dev/jetton-deployer/jetton-deployer-lib/lib/consts.ts"],"sourcesContent":["export const WORKCHAIN = 0;\n"],"names":["WORKCHAIN"],"mappings":"AAAA;;;;;AAAO,MAAMA,SAAS,GAAG,CAAC,AAAC;QAAdA,SAAS,GAATA,SAAS","file":"/Users/shaharyakir/Documents/dev/jetton-deployer/jetton-deployer-lib/lib/consts.ts"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f8c3056b7f08911282e4f9a091c90b2bf522ff8d","contentHash":"d54fe333b4e758580db88115fc28b5f059bbec450abfe4c5ac50b5e09c93c7f6"}}